<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Forgot Password</title>
  <style>
    body { font-family: "Segoe UI", Arial, sans-serif; background:#f6f7fb; margin:0; }
    .container { max-width: 480px; margin: 60px auto; background:#fff; padding: 24px 28px;
      border: 1px solid #e5e7eb; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.06); }
    h1 { margin: 0 0 8px; font-size: 22px; }
    p { color:#6b7280; margin-top:0; }
    .form-group { margin: 14px 0; }
    label { display:block; font-weight:600; margin-bottom:6px; }
    input[type="email"] { width:100%; padding:12px; border:1px solid #e5e7eb; border-radius:8px; font-size:14px; }
    input[type="email"]:focus { outline:none; border-color:#0067b8; box-shadow:0 0 0 3px rgba(0,103,184,.15); }
    .btn { width:100%; margin-top:12px; background:#0067b8; color:#fff; border:none; border-radius:8px; padding:12px 16px;
      font-weight:600; cursor:pointer; }
    .btn:hover { background:#005a9e; }
    .links { margin-top:14px; display:flex; justify-content:space-between; font-size:13px; }
    a { color:#0067b8; text-decoration:none; } a:hover { text-decoration:underline; }
    .alert { margin-top:10px; padding:10px 12px; border-radius:8px; font-size:14px; border:1px solid #c6e8c6; background:#e7f6e7; color:#0f7b0f; }
    .error { border-color:#f8c7c7; background:#fde8e8; color:#b00020; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Forgot Password</h1>
    <p>Enter your work email to receive password reset instructions.</p>

    <!-- Status messages (model or query params) -->
    <div th:if="${sent}" class="alert">If the email exists, a reset link has been sent.</div>
    <div th:if="${param.sent}" class="alert">If the email exists, a reset link has been sent.</div>
    <div th:if="${error}" class="alert error" th:text="${error}">Something went wrong. Please try again.</div>
    <div th:if="${param.error}" class="alert error">Something went wrong. Please try again.</div>

    <!-- POST to your controller -->
    <form th:action="@{/forgot-password}" method="post">
      <!-- Guard CSRF so page works even without Spring Security -->
      <input type="hidden" th:if="${_csrf != null}"
             th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

      <div class="form-group">
        <label for="email">Work email</label>
        <input id="email" name="email" type="email" placeholder="name@company.com" required autocomplete="email" />
      </div>

      <button class="btn" type="submit">Send reset link</button>
    </form>

    <div class="links">
      <a th:href="@{/staff-login}">Back to Login</a>
      <a th:href="@{/help}">Need help?</a>
    </div>
  </div>
</body>
</html>